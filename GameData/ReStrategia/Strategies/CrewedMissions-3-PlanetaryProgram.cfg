// Strategy for the Planetary Programs
//   Author: nightingale

STRATEGY_BODY_EXPAND:NEEDS[CustomBarnKit]
{
    author = Nightingale
    name = PlanetaryProgram
    id = PlanetaryProgram

    title = The $culledName Program
    title
    {
        Mercury = The Hermes Program
        Venus = The Aphrodite Program
        Mars = The Ares Program
        Pluto = The Hades Program
    }

    desc = The next step in our space program is to get a Kerbal onto another planet.  What better choice than $theBody?
    department = Crewed Missions
    icon = ReStrategia/icons/DresProgram
    icon
    {
        Moho = ReStrategia/icons/MohoProgram
        Eve = ReStrategia/icons/EveProgram
        Duna = ReStrategia/icons/DunaProgram
        Eeloo = ReStrategia/icons/EelooProgram
        Mercury = ReStrategia/icons/MohoProgram
        Venus = ReStrategia/icons/EveProgram
        Mars = ReStrategia/icons/DunaProgram
        Pluto = ReStrategia/icons/EelooProgram
        Ernus = ReStrategia/icons/MohoProgram
        Arin = ReStrategia/icons/MohoProgram
        Lave = ReStrategia/icons/DunaProgram
        Titanus = ReStrategia/icons/MunProgram
    }

    groupTag = CelestialBodyProgram,A
    
    minLeastDuration = 600
    maxLeastDuration = 600
    minLongestDuration = 1200
    maxLongestDuration = 1600
    
    requiredReputationMin = 200
    requiredReputationMax = 200
    
    initialCostFunds = 0.0
    initialCostReputation = 0.0
    initialCostScience = 0.0
    
    hasFactorSlider = False
    factorSliderDefault = 0.10
    factorSliderSteps = 1

    EFFECT
    {
        name = IncompatibleGroupRequirement

        group = CelestialBodyProgram
        text = Cannot have more than one crewed or uncrewed strategy active at one time
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for $theBodies
        
        minValue = 5.00
        maxValue = 5.00	
        
        AffectReasons = Progression

        includeBody = @bodies
    }

    EFFECT
    {
        name = CurrencyOperationByBody
        currency = Funds
        operation = Multiply
        
        effectDescription = to milestone gains for other bodies
        
        minValue = 0.20
        maxValue = 0.20	
        
        AffectReasons = Progression

        excludeBody = @bodies
    }

    EFFECT
    {
        name = ContractEffect

        contractType = STG_BodyProgram

        targetBody = $body
        bodies = @primarySecondary
        synopsis = Plant a flag on $primaryAndSecondary.
        synopsisPlural = Plant flags on $primaryAndSecondary.
        completedMessage = You've successfully landed the first Kerbal on $primaryAndSecondary!
        failureMessage = Your space program has failed to put a Kerbal on $primaryAndSecondary!

        advanceFunds = 250000.0
        advanceFunds
        {
            Moho = 350000
            Eve = 500000
            Eeloo = 500000
            Mercury = 200000
            Venus = 250000
            Pluto = 500000
            Lave = 500000
            Titanus = 750000
        }
        rewardReputation = 100
        rewardReputation
        {
            Moho = 75
            Eve = 150
            Eeloo = 150
            Mercury = 50
            Venus = 150
            Pluto = 150
            Ernus = 50
            Lave = 150
            Titanus = 200
        }

        rewardFunds = 250000
        rewardFunds
        {
            Moho = 300000
            Eve = 500000
            Eeloo = 500000
            Mercury = 300000
            Venus = 500000
            Pluto = 1000000
            Lave = 500000
            Titanus = 1000000
        }

        failureReputation = 500
        failureFunds = 1500000
    }

    EFFECT
    {
        name = ContractWeightBooster
        
        bodies = @bodies
        weight = 25
    }

    EFFECT
    {
        name = MinimumFacilityLevelRequirement
        level = 2
    }

    EFFECT
    {
        name = ReturnFromSurfaceMannedRequirement
        id = MoonProgram
    }

    EFFECT
    {
        name = ReachedBodyMannedRequirement

        invert = true
        body = @bodies
    }

    EFFECT
    {
        name = VesselEnrouteRequirement

        invert = true
        manned = true
        body = @bodies
    }

    EFFECT:NEEDS[ResearchBodies]
    {
        name = ResearchBodiesRequirement
        body = @bodies
    }
}
